webpackJsonp([1],{"7zck":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),a=n("3EgV"),s=n.n(a),i=(n("7zck"),n("Xxa5")),o=n.n(i),c=n("exGp"),u=n.n(c),p=n("/ocq"),l={data:function(){return{}},computed:{date:function(){var e=new Date(this.$recipes.status.date);return e.toLocaleString("en-GB",{timeZoneName:"short"})},recipes:function(){return this.$recipes.status.recipes},upToDateRecipes:function(){return this.recipes.filter(function(e){return e.up_to_date})},updatableRecipes:function(){return this.recipes.filter(function(e){return e.updatable})},inconsistentRecipes:function(){return this.recipes.filter(function(e){return e.inconsistent_versioning})},unsupportedRecipes:function(){return this.recipes.filter(function(e){return!e.supported})},duration:function(){var e=this.$recipes.status.duration,t=Math.floor(e/3600);e-=3600*t;var n=Math.floor(e/60);return e-=60*n,t>0?t+"h "+n+"m":n>0?n+"m "+Math.round(e)+"s":e.toFixed(1)+"s"},version:function(){return this.$recipes.status.ccb_version}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",{attrs:{elevation:"2"}},[n("v-card-title",[n("h3",[e._v("Status")])]),e._v(" "),n("v-card-text",[n("ul",[n("li",[e._v("Date: "+e._s(e.date))]),e._v(" "),n("li",[e._v("Duration: "+e._s(e.duration))]),e._v(" "),n("li",[e._v("Version: "+e._s(e.version))]),e._v(" "),n("li",[e._v("Parsed recipes: "+e._s(e.recipes.length))]),e._v(" "),n("li",[e._v("Up-to-date recipes: "+e._s(e.upToDateRecipes.length))]),e._v(" "),n("li",[e._v("Updatable recipes: "+e._s(e.updatableRecipes.length))]),e._v(" "),n("li",[e._v("Inconsistent recipes: "+e._s(e.inconsistentRecipes.length))]),e._v(" "),n("li",[e._v("Unsupported recipes: "+e._s(e.unsupportedRecipes.length))])])]),e._v(" "),n("v-card-text",[n("p",[e._v("\n        The recipe updatability data and the updated branches are auto-generated by\n        "),n("a",{attrs:{href:"https://github.com/qchateau/conan-center-bot"}},[e._v("Conan Center Bot")]),e._v(".\n      ")]),e._v(" "),n("p",[e._v("Any help improving this tool is welcome !")])])],1)],1)},staticRenderFns:[]};var v=n("VU/8")(l,d,!1,function(e){n("vbdC")},"data-v-26761eb0",null).exports,f={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",[n("v-card-title",[e._v("Updatable recipes")]),e._v(" "),n("v-card-text",[e._v("\n      These recipes are updatable.\n      "),n("br"),e._v('When it\'s possible to auto-update them,\n      you can directly open a PR by clicking on "Open one".\n      '),n("br"),e._v("When it's not, you can see the error by expanding the row.\n      "),n("v-text-field",{attrs:{label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),n("v-data-table",{attrs:{headers:e.recipesHeaders,items:e.selectedRecipes,expanded:e.expanded,"single-expand":!0,"disable-pagination":!0,"hide-default-footer":!0,search:e.search,"item-key":"name","show-expand":"",dense:""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item;return[n("a",{attrs:{href:r.homepage}},[e._v(e._s(r.name))])]}},{key:"item.prs_opened",fn:function(t){var r=t.item;return e._l(e.prLinks(r),function(t){return n("span",{key:t.href},[t.href?n("a",{attrs:{href:t.href}},[e._v(e._s(t.text))]):n("span",[e._v(e._s(t.text))])])})}},{key:"expanded-item",fn:function(t){var r=t.headers,a=t.item;return[n("td",{attrs:{colspan:r.length}},[a.supported?n("span",[a.update_error?n("pre",[e._v(e._s(a.update_error))]):n("div",[e._v("No errors")])]):n("span",[n("v-icon",{attrs:{dark:""}},[e._v("mdi-cancel")]),e._v("Unsupported\n          ")],1)])]}}])})],1)],1)},staticRenderFns:[]};var h=n("VU/8")({data:function(){return{search:"",expanded:[],recipesHeaders:[{text:"Name",align:"start",sortable:!0,value:"name"},{text:"Recipe version",align:"start",sortable:!1,value:"recipe_version"},{text:"New version",align:"start",sortable:!1,value:"upstream_version"},{text:"Upstream tag",align:"start",sortable:!1,value:"upstream_tag"},{text:"Pull requests",align:"start",sortable:!1,value:"prs_opened"},{text:"",value:"data-table-expand"}]}},methods:{prLinks:function(e){if(e.prs_opened.length>0)return e.prs_opened.map(function(e){return{text:"#"+e.number,href:e.url}});var t=e.updated_branch;return t.owner&&t.repo&&t.branch?[{text:"Open one",href:"https://github.com/"+t.owner+"/"+t.repo+"/pull/new/"+t.branch}]:[{text:"No"}]}},computed:{selectedRecipes:function(){var e=this.$recipes.status.recipes;return e=e.filter(function(e){return e.updatable})}}},f,!1,function(e){n("rURG")},"data-v-27336b0a",null).exports,_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-card",[n("v-card-title",[e._v("Inconsistent recipes")]),e._v(" "),n("v-card-text",[e._v("\n      The following recipes are not consistent with their\n      upstream versioning scheme.\n      "),n("br"),e._v("Most of the times it\n      means the recipe version is not related to\n      any upstream tag.\n      "),n("v-text-field",{attrs:{label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),n("v-data-table",{attrs:{headers:e.recipesHeaders,items:e.selectedRecipes,"single-expand":!0,"disable-pagination":!0,"hide-default-footer":!0,search:e.search,"item-key":"name",dense:""},scopedSlots:e._u([{key:"item.name",fn:function(t){var r=t.item;return[n("a",{attrs:{href:r.homepage}},[e._v(e._s(r.name))])]}}])})],1)],1)},staticRenderFns:[]};var m=n("VU/8")({data:function(){return{search:"",recipesHeaders:[{text:"Name",align:"start",sortable:!0,value:"name"},{text:"Recipe version",align:"start",sortable:!1,value:"recipe_version"},{text:"Most recent upstream tag",align:"start",sortable:!1,value:"upstream_tag"}]}},computed:{selectedRecipes:function(){var e=this.$recipes.status.recipes;return e=e.filter(function(e){return e.inconsistent_versioning})}}},_,!1,function(e){n("k6yi")},"data-v-8bc57e52",null).exports;r.default.use(p.a);var b=new p.a({routes:[{path:"/",redirect:"/status",meta:{title:"Conan Center Bot"}},{path:"/status",name:"Status",component:v,meta:{title:"Conan Center Bot - Status"}},{path:"/updatable",name:"Updatable",component:h,meta:{title:"Conan Center Bot - Updatable"}},{path:"/inconsistent",name:"Inconsistent",component:m,meta:{title:"Conan Center Bot - Inconsistent"}}]}),x={name:"App",data:function(){return{initialized:!1,routes:b.options.routes}},mounted:function(){var e=this;return u()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$recipes.refresh();case 2:e.initialized=!0;case 3:case"end":return t.stop()}},t,e)}))()},computed:{visibleRoutes:function(){return this.routes.filter(function(e){return e.name})}}},g={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("v-app-bar",{attrs:{app:"",flat:""}},[n("v-tabs",{staticClass:"ml-n9",attrs:{centered:"",color:"grey darken-1"}},e._l(e.visibleRoutes,function(t){return n("v-tab",{key:t.path,on:{click:function(n){return e.$router.push(t.path)}}},[e._v(e._s(t.name))])}),1)],1),e._v(" "),n("v-main",[e.initialized?n("v-container",{attrs:{fluid:"",id:"main-container"}},[n("router-view")],1):e._e()],1)],1)},staticRenderFns:[]};var k=n("VU/8")(x,g,!1,function(e){n("ksOy")},null,null).exports,y=n("mtWM"),R=n.n(y),w={install:function(e){e.prototype.$recipes={status:e.observable({}),refresh:function(){var e=this;return u()(o.a.mark(function t(){var n,r,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R.a.get("https://github.com/qchateau/conan-center-bot/raw/gh-pages/status/v1-update.json");case 3:for(r in n=t.sent.data,e.status)delete e.status[r];for(a in n)e.status[a]=n[a];t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Error: ",t.t0);case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()}}}},U=new s.a({theme:{dark:!0}});r.default.config.productionTip=!1,r.default.use(s.a),r.default.use(w),new r.default({el:"#app",vuetify:U,router:b,components:{App:k},template:"<App/>"})},k6yi:function(e,t){},ksOy:function(e,t){},rURG:function(e,t){},vbdC:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e0b99d0452ce2f1c6b18.js.map